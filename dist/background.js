(()=>{"use strict";chrome.runtime.onInstalled.addListener(()=>{chrome.contextMenus.create({id:"convertImage",title:"Convert Image",contexts:["image"]}),chrome.contextMenus.create({id:"convertToPNG",parentId:"convertImage",title:"Convert to PNG",contexts:["image"]}),chrome.contextMenus.create({id:"convertToJPG",parentId:"convertImage",title:"Convert to JPG",contexts:["image"]})}),chrome.contextMenus.onClicked.addListener((e,t)=>{if(!t?.id)return;const n="convertToPNG"===e.menuItemId?"PNG":"JPG";chrome.tabs.sendMessage(t.id,{type:"CONTEXT_MENU_CLICKED",imageUrl:e.srcUrl,format:n})}),chrome.runtime.onMessage.addListener((e,t,n)=>("GET_DATA"===e.type&&n({success:!0}),!0))})();